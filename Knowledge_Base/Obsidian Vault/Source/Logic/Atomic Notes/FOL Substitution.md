
В языках первого порядка **подстановкой** (*substitution*) называется операция, при которой в формуле $φ$ или терме вместо свободной переменной $x$ подставляется терм $t$. Результат такой подстановки обозначается $φ[t/x]$ – замена всех свободных вхождений переменной $x$ в формуле $φ$ на терм $t$.

Если терм $t$ является [[FOL Syntax|замкнутым]], то его подстановка называется **константной**. Константная подстановка свободна для всякого выражения.

Для того, чтобы подстановка был корректной, необходимо, чтобы заменяемая в формуле переменная $x$ была свободной и переменные терма $t$ не захватывались квантором, т.е. чтобы не происходила коллизия переменных при подстановке. В этом случае подстановка называется **свободной** (*free*) или **допустимой** (*admissible*).

>[!example]- 
> Рассмотрим атомарную формулу $P(x,y,z)$, которая выражает предикат $x+y=z$, где переменные пробегают числа $0,1,2,\ldots$ Формула  $φ≡∃y \, P(x,y,z)$ выражает предикат от переменных $x$ и $y$, а именно $x≤z$. Пусть терм $f(x,y)$ выражает операцию умножения $x·y$. Теперь мы желали бы подставить $f(x, y)$ в $∃y \, P(x,y,z)$ вместо свободной переменной $x$, с целью выразить предикат от трех пе­ременных $x·y≤z$. Если произвести подстановку $φ[f(x,y)/x]$, получим формулу $∃y \, P(f(x,y),y,z)$. Однако, эта формула выражает другой предикат, который зависит от двух переменных $x$ и $z$. Такое искажение получается из-за того, что произошла коллизия переменных при подстановке: свободное вхождение $y$ в терме $f(x,y)$ стало связанным в формуле $φ[f(x,y)/x]$ за счет захвата квантором $∀$.
> 
> Для того, чтобы подстановка была произведена корректно, мы могли бы сначала [[FOL Alpha-Conversion|переименовать]] связанную переменную $y$, образовав формулу $∃u \, P(x,u,z)$, которая выражает тот же предикат, и уже потом производить подстановку. В результате получим формулу $∃u \, P(f(x,y),u,z)$, которая и выражает нужный предикат:
> $$
> ∃u \, (x·y + u = z) \quad ⇔ \quad x·y ≤ z
> $$

Если подстановка терма $t$ в формулу $φ$ вместо $x$ приводит к коллизии переменных, то следует найти [[FOL Alpha-Conversion|вариант]] $φ'$ формулы $φ$, такой, что подстановка становится допустимой. Тогда подстановка $φ'[t/x]$ будет **правильной подстановкой** $t$ в $φ$. Формула $φ'[t/x]$ определяется неоднозначно, в силу неоднозначности выбора $φ'$, поэтому Таким образом, правильная подстановка определяется однозначно с точностью до конгруэнтности. 


